<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>
        <link rel="stylesheet prefetch" href="https://joshuajohnson.co.uk/Choices/assets/styles/css/choices.min.css?version=3.0.3">
        <script src="https://joshuajohnson.co.uk/Choices/assets/scripts/dist/choices.min.js?version=3.0.3"></script>

        <div id="app">
            <button
                    v-if="showChoices"
                    @click="hide"
            >Hide</button>
            <button
                    v-if="!showChoices"
                    @click="show"
            >Show</button>
            <div v-if="showChoices">
                <select id="choices-single-default"></select>
            </div>
        </div>
    </title>
</head>
<body>

</body>
</html>
<script src="https://lib.baomitu.com/vue/2.6.11/vue.common.dev.js">    </script>
<script>

    new Vue({
        el: "#app",
        data: function () {
            return {
                showChoices: true
            }
        },
        mounted: function () {
            this.initializeChoices()
        },
        methods: {
            initializeChoices: function () {
                let list = []
                // 我们来为选择框载入很多选项
                // 这样的话它会占用大量的内存
                for (let i = 0; i < 1000; i++) {
                    list.push({
                        label: "Item " + i,
                        value: i
                    })
                }
                new Choices("#choices-single-default", {
                    searchEnabled: true,
                    removeItemButton: true,
                    choices: list
                })
            },
            show: function () {
                this.showChoices = true
                this.$nextTick(() => {
                    this.initializeChoices()
                })
            },
            hide: function () {
                this.showChoices = false
            }
        }
    })


</script>
